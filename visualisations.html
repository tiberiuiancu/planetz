<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

</body>
</html><html>
<head>
  <script src='js/perlin.js'></script>
  <script src='js/utils.js'></script>
  <script src='js/generation.js'></script>
  <script src='js/texturing.js'></script>
  <script src='js/planetz.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>

<script>

  let draw_image = function(map, caption) {
    let img = document.createElement('img');
    document.body.append(img);
    img.src = utils.buffer_to_jpg(map);
    img.style.height = "400px";
    img.style.width = "400px";

    if (caption !== undefined) img.title = caption;
  }

  let get_texture = function(noise) {
    return texturing.make_texture(texturing.make_terrain(noise), noise);
  }

  let perlin_noise_no_octaves = generator.get_height_map(false);
  let perlin_noise_no_non_lin = generator.get_height_map(true);
  let perlin_noise_final = generator.get_height_map(true, 3);
  draw_image(perlin_noise_no_octaves, "No octaves");
  draw_image(perlin_noise_no_non_lin, "No non-linear function applied");
  draw_image(perlin_noise_final, "All processing applied");

  draw_image(get_texture(perlin_noise_no_octaves), "No octaves");
  draw_image(get_texture(perlin_noise_no_non_lin), "No non-linear function applied");
  draw_image(get_texture(perlin_noise_final), "All processing applied");

  draw_image(get_texture(generator.get_height_map(true, 2)), "Non-linearity with value 2");
  draw_image(get_texture(generator.get_height_map(true, 3)), "Non-linearity with value 3");
  draw_image(get_texture(generator.get_height_map(true, 4)), "Non-linearity with value 4");

</script>
</body>
</html>
